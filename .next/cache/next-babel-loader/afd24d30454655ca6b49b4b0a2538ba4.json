{"ast":null,"code":"import _regeneratorRuntime from \"/Users/evielu/react/react_member_center/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/evielu/react/react_member_center/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/evielu/react/react_member_center/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/evielu/react/react_member_center/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/evielu/react/react_member_center/pages/signin/index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { createRef, useState } from \"react\";\nimport styles from \"../components/layout.module.css\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport Link from \"next/link\"; // import { useRouter } from \"next/router\";\n\nfunction acctValidate(newValue) {\n  var emailPattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n  var phonePattern = new RegExp(/^09\\d{2}-?\\d{3}-?\\d{3}$/);\n\n  if (newValue) {\n    //acctID\n    if (!isNaN(Number(newValue)) && !phonePattern.test(newValue) && newValue.length > 9 || isNaN(Number(newValue)) && !emailPattern.test(newValue) && newValue.length > 5) {\n      return true;\n    }\n  }\n}\n\nfunction InputField(_ref) {\n  var setAcctErr = _ref.setAcctErr,\n      setAcct = _ref.setAcct,\n      acct = _ref.acct,\n      inputRef = _ref.inputRef,\n      placeholder = _ref.placeholder,\n      type = _ref.type;\n\n  function handle(e) {\n    var newValue = e.target.value;\n    var acctVerify = acctValidate(newValue);\n    setAcct(newValue);\n    setAcctErr(acctVerify);\n  }\n\n  return __jsx(TextField, {\n    fullWidth: true,\n    required: true,\n    placeholder: placeholder,\n    InputProps: {\n      disableUnderline: true\n    },\n    value: acct,\n    inputRef: inputRef,\n    onChange: handle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  });\n}\n\n_c = InputField;\nexport default function signup() {\n  _s();\n\n  var _React$useState = React.useState({\n    password: \"\",\n    showPassword: false\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      values = _React$useState2[0],\n      setAccts = _React$useState2[1];\n\n  var handleChange = function handleChange(prop) {\n    return function (event) {\n      setAccts(_objectSpread(_objectSpread({}, values), {}, _defineProperty({}, prop, event.target.value)));\n    };\n  };\n\n  var handleClickShowPassword = function handleClickShowPassword() {\n    setAccts(_objectSpread(_objectSpread({}, values), {}, {\n      showPassword: !values.showPassword\n    }));\n  };\n\n  var handleMouseDownPassword = function handleMouseDownPassword(event) {\n    event.preventDefault();\n  }; // const router = useRouter();\n\n\n  var acctInput = /*#__PURE__*/createRef();\n  var passwordInput = /*#__PURE__*/createRef();\n\n  var _useState = useState(false),\n      acctErr = _useState[0],\n      setAcctErr = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      acct = _useState2[0],\n      setAcct = _useState2[1];\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var Account, Password, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              Account = acctInput.current.value;\n              Password = passwordInput.current.value;\n\n              if (acctErr) {\n                _context.next = 8;\n                break;\n              }\n\n              console.log(JSON.stringify({\n                Data: {\n                  Account: Account,\n                  Password: Password\n                },\n                source_id: 4\n              }));\n              _context.next = 7;\n              return fetch(\"https://10.2.108.136:3366/carplus/member/Login\", {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                  Data: {\n                    Account: Account,\n                    Password: Password\n                  },\n                  source_id: 4\n                })\n              }).then(function (response) {\n                return response.json();\n              }).then(function (myJson) {\n                if (myJson.ReturnCode == 0) {\n                  console.log(\"AcctID: \" + myJson.ReturnData.AcctID);\n                } else {\n                  console.log(myJson.ReturnMessage + \"(\" + myJson.ReturnCode + \")\");\n                }\n              });\n\n            case 7:\n              response = _context.sent;\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: \"wid100 fx fx_center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, __jsx(\"form\", {\n    className: styles.signin + \" wid50\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, __jsx(\"label\", {\n    className: \"wid100 fx fx_center\",\n    style: {\n      margin: \"20px 0\",\n      fontSize: \"1.3em\",\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, \"\\u6703\\u54E1\\u767B\\u5165\"), __jsx(\"div\", {\n    className: \"input_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, __jsx(InputField, {\n    setAcctErr: setAcctErr,\n    setAcct: setAcct,\n    value: acct,\n    inputRef: acctInput,\n    placeholder: \"\\u8ACB\\u8F38\\u5165\\u60A8\\u7684Email\\u6216\\u624B\\u6A5F\\u865F\\u78BC\",\n    type: \"acct\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  })), acctErr && __jsx(\"span\", {\n    className: \"input_err\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, \"Email\\u6216\\u624B\\u6A5F\\u865F\\u78BC\\u683C\\u5F0F\\u932F\\u8AA4\\uFF0C\\u8ACB\\u91CD\\u65B0\\u8F38\\u5165\"), __jsx(\"div\", {\n    className: \"input_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, __jsx(InputBase, {\n    fullWidth: true,\n    required: true,\n    type: values.showPassword ? \"text\" : \"password\",\n    value: values.password,\n    onChange: handleChange(\"password\"),\n    inputProps: {\n      \"aria-label\": \"naked\"\n    },\n    inputRef: passwordInput,\n    placeholder: \"\\u8ACB\\u8F38\\u5165\\u5BC6\\u78BC\",\n    endAdornment: __jsx(InputAdornment, {\n      position: \"end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 15\n      }\n    }, __jsx(IconButton, {\n      onClick: handleClickShowPassword,\n      onMouseDown: handleMouseDownPassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, values.showPassword ? __jsx(Visibility, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 42\n      }\n    }) : __jsx(VisibilityOff, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 59\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  })), __jsx(\"div\", {\n    className: styles.linkGroup + \" fx fx_nowrap fx_between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, __jsx(Link, {\n    href: \"/forgetPw\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, \"\\u5FD8\\u8A18\\u5BC6\\u78BC\\uFF1F\")), __jsx(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, \"\\u6C92\\u6709\\u5E33\\u865F\\uFF1F\", __jsx(Link, {\n    href: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, \"\\u52A0\\u5165\\u6703\\u54E1\")))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    className: \"btn btn100 btn_00\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, \"\\u78BA\\u8A8D\\u9001\\u51FA\"))));\n}\n\n_s(signup, \"cKFrghRG99NVgZASQ6aks6pFqs0=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"InputField\");","map":{"version":3,"sources":["/Users/evielu/react/react_member_center/pages/signin/index.js"],"names":["React","createRef","useState","styles","TextField","InputBase","IconButton","InputAdornment","Visibility","VisibilityOff","Link","acctValidate","newValue","emailPattern","RegExp","phonePattern","isNaN","Number","test","length","InputField","setAcctErr","setAcct","acct","inputRef","placeholder","type","handle","e","target","value","acctVerify","disableUnderline","signup","password","showPassword","values","setAccts","handleChange","prop","event","handleClickShowPassword","handleMouseDownPassword","preventDefault","acctInput","passwordInput","acctErr","handleSubmit","Account","current","Password","console","log","JSON","stringify","Data","source_id","fetch","method","headers","body","then","response","json","myJson","ReturnCode","ReturnData","AcctID","ReturnMessage","signin","margin","fontSize","fontWeight","linkGroup"],"mappings":"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","sourcesContent":["import React, { createRef, useState } from \"react\";\nimport styles from \"../components/layout.module.css\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport Link from \"next/link\";\n// import { useRouter } from \"next/router\";\n\nfunction acctValidate(newValue) {\n  const emailPattern = new RegExp(\n    /^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i\n  );\n  const phonePattern = new RegExp(/^09\\d{2}-?\\d{3}-?\\d{3}$/);\n  if (newValue) {\n    //acctID\n    if (\n      (!isNaN(Number(newValue)) &&\n        !phonePattern.test(newValue) &&\n        newValue.length > 9) ||\n      (isNaN(Number(newValue)) &&\n        !emailPattern.test(newValue) &&\n        newValue.length > 5)\n    ) {\n      return true;\n    }\n  }\n}\nfunction InputField({\n  setAcctErr,\n  setAcct,\n  acct,\n  inputRef,\n  placeholder,\n  type,\n}) {\n  function handle(e) {\n    const newValue = e.target.value;\n    const acctVerify = acctValidate(newValue);\n    setAcct(newValue);\n    setAcctErr(acctVerify);\n  }\n  return (\n    <TextField\n      fullWidth\n      required\n      placeholder={placeholder}\n      InputProps={{ disableUnderline: true }}\n      value={acct}\n      inputRef={inputRef}\n      onChange={handle}\n    />\n  );\n}\nexport default function signup() {\n  const [values, setAccts] = React.useState({\n    password: \"\",\n    showPassword: false,\n  });\n\n  const handleChange = (prop) => (event) => {\n    setAccts({ ...values, [prop]: event.target.value });\n  };\n\n  const handleClickShowPassword = () => {\n    setAccts({ ...values, showPassword: !values.showPassword });\n  };\n\n  const handleMouseDownPassword = (event) => {\n    event.preventDefault();\n  };\n\n  // const router = useRouter();\n  const acctInput = createRef();\n  const passwordInput = createRef();\n  const [acctErr, setAcctErr] = useState(false);\n  const [acct, setAcct] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const Account = acctInput.current.value;\n    const Password = passwordInput.current.value;\n    if (!acctErr) {\n      console.log(\n        JSON.stringify({ Data: { Account, Password }, source_id: 4 })\n      );\n\n      const response = await fetch(\n        \"https://10.2.108.136:3366/carplus/member/Login\",\n        {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ Data: { Account, Password }, source_id: 4 }),\n        }\n      )\n        .then(function (response) {\n          return response.json();\n        })\n        .then(function (myJson) {\n          if (myJson.ReturnCode == 0) {\n            console.log(\"AcctID: \" + myJson.ReturnData.AcctID);\n          } else {\n            console.log(myJson.ReturnMessage + \"(\" + myJson.ReturnCode + \")\");\n          }\n        });\n    }\n  };\n\n  return (\n    <div className=\"wid100 fx fx_center\">\n      <form className={styles.signin + \" wid50\"} onSubmit={handleSubmit}>\n        <label\n          className=\"wid100 fx fx_center\"\n          style={{ margin: \"20px 0\", fontSize: \"1.3em\", fontWeight: \"bold\" }}\n        >\n          會員登入\n        </label>\n        <div className=\"input_box\">\n          <InputField\n            setAcctErr={setAcctErr}\n            setAcct={setAcct}\n            value={acct}\n            inputRef={acctInput}\n            placeholder=\"請輸入您的Email或手機號碼\"\n            type=\"acct\"\n          />\n        </div>\n\n        {acctErr && (\n          <span className=\"input_err\">Email或手機號碼格式錯誤，請重新輸入</span>\n        )}\n\n        <div className=\"input_box\">\n          <InputBase\n            fullWidth\n            required\n            type={values.showPassword ? \"text\" : \"password\"}\n            value={values.password}\n            onChange={handleChange(\"password\")}\n            inputProps={{ \"aria-label\": \"naked\" }}\n            inputRef={passwordInput}\n            placeholder=\"請輸入密碼\"\n            endAdornment={\n              <InputAdornment position=\"end\">\n                <IconButton\n                  onClick={handleClickShowPassword}\n                  onMouseDown={handleMouseDownPassword}\n                >\n                  {values.showPassword ? <Visibility /> : <VisibilityOff />}\n                </IconButton>\n              </InputAdornment>\n            }\n          />\n        </div>\n\n        <div className={styles.linkGroup + \" fx fx_nowrap fx_between\"}>\n          <Link href=\"/forgetPw\">\n            <a>忘記密碼？</a>\n          </Link>\n          <label>\n            沒有帳號？\n            <Link href=\"/signup\">\n              <a>加入會員</a>\n            </Link>\n          </label>\n        </div>\n\n        <div>\n          <button type=\"submit\" className=\"btn btn100 btn_00\">\n            確認送出\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}