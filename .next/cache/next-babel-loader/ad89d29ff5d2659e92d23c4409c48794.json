{"ast":null,"code":"var _jsxFileName = \"/Users/evielu/react/react_member_center/pages/signin/index.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { createRef, useState } from \"react\";\nimport styles from \"../components/layout.module.css\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport Link from \"next/link\"; // import { useRouter } from \"next/router\";\n\nfunction acctValidate(newValue) {\n  const emailPattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n  const phonePattern = new RegExp(/^09\\d{2}-?\\d{3}-?\\d{3}$/);\n\n  if (newValue) {\n    //acctID\n    if (!isNaN(Number(newValue)) && !phonePattern.test(newValue) && newValue.length > 9 || isNaN(Number(newValue)) && !emailPattern.test(newValue) && newValue.length > 5) {\n      return true;\n    }\n  }\n}\n\nfunction InputField({\n  setAcctErr,\n  setAcct,\n  acct,\n  inputRef,\n  placeholder,\n  type\n}) {\n  function handle(e) {\n    const newValue = e.target.value;\n    const acctVerify = acctValidate(newValue);\n    setAcct(newValue);\n    setAcctErr(acctVerify);\n  }\n\n  return __jsx(TextField, {\n    fullWidth: true,\n    required: true,\n    placeholder: placeholder,\n    InputProps: {\n      disableUnderline: true\n    },\n    value: acct,\n    inputRef: inputRef,\n    onChange: handle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  });\n}\n\nexport default function signup() {\n  const [values, setAccts] = React.useState({\n    password: \"\",\n    showPassword: false\n  });\n\n  const handleChange = prop => event => {\n    setAccts(_objectSpread(_objectSpread({}, values), {}, {\n      [prop]: event.target.value\n    }));\n  };\n\n  const handleClickShowPassword = () => {\n    setAccts(_objectSpread(_objectSpread({}, values), {}, {\n      showPassword: !values.showPassword\n    }));\n  };\n\n  const handleMouseDownPassword = event => {\n    event.preventDefault();\n  }; // const router = useRouter();\n\n\n  const acctInput = /*#__PURE__*/createRef();\n  const passwordInput = /*#__PURE__*/createRef();\n  const {\n    0: acctErr,\n    1: setAcctErr\n  } = useState(false);\n  const {\n    0: acct,\n    1: setAcct\n  } = useState(\"\");\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const Account = acctInput.current.value;\n    const Password = passwordInput.current.value;\n\n    if (!acctErr) {\n      console.log(JSON.stringify({\n        Data: {\n          Account,\n          Password\n        },\n        source_id: 4\n      }));\n      const response = await fetch(\"https://10.2.108.136:3366/carplus/member/Login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          Data: {\n            Account,\n            Password\n          },\n          source_id: 4\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (myJson) {\n        if (myJson.ReturnCode == 0) {\n          console.log(\"AcctID: \" + myJson.ReturnData.AcctID);\n        } else {\n          console.log(myJson.ReturnMessage + \"(\" + myJson.ReturnCode + \")\");\n        }\n      });\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"wid100 fx fx_center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, __jsx(\"form\", {\n    className: styles.signin + \" wid50\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, __jsx(\"label\", {\n    className: \"wid100 fx fx_center\",\n    style: {\n      margin: \"20px 0\",\n      fontSize: \"1.3em\",\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, \"\\u6703\\u54E1\\u767B\\u5165\"), __jsx(\"div\", {\n    className: \"input_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, __jsx(InputField, {\n    setAcctErr: setAcctErr,\n    setAcct: setAcct,\n    value: acct,\n    inputRef: acctInput,\n    placeholder: \"\\u8ACB\\u8F38\\u5165\\u60A8\\u7684Email\\u6216\\u624B\\u6A5F\\u865F\\u78BC\",\n    type: \"acct\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  })), acctErr && __jsx(\"span\", {\n    className: \"input_err\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, \"Email\\u6216\\u624B\\u6A5F\\u865F\\u78BC\\u683C\\u5F0F\\u932F\\u8AA4\\uFF0C\\u8ACB\\u91CD\\u65B0\\u8F38\\u5165\"), __jsx(\"div\", {\n    className: \"input_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, __jsx(InputBase, {\n    fullWidth: true,\n    required: true,\n    type: values.showPassword ? \"text\" : \"password\",\n    value: values.password,\n    onChange: handleChange(\"password\"),\n    inputProps: {\n      \"aria-label\": \"naked\"\n    },\n    inputRef: passwordInput,\n    placeholder: \"\\u8ACB\\u8F38\\u5165\\u5BC6\\u78BC\",\n    endAdornment: __jsx(InputAdornment, {\n      position: \"end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 15\n      }\n    }, __jsx(IconButton, {\n      onClick: handleClickShowPassword,\n      onMouseDown: handleMouseDownPassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, values.showPassword ? __jsx(Visibility, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 42\n      }\n    }) : __jsx(VisibilityOff, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 59\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  })), __jsx(\"div\", {\n    className: styles.linkGroup + \" fx fx_nowrap fx_between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, __jsx(Link, {\n    href: \"/forgetPw\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, \"\\u5FD8\\u8A18\\u5BC6\\u78BC\\uFF1F\")), __jsx(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, \"\\u6C92\\u6709\\u5E33\\u865F\\uFF1F\", __jsx(Link, {\n    href: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, \"\\u52A0\\u5165\\u6703\\u54E1\")))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    className: \"btn btn100 btn_00\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, \"\\u78BA\\u8A8D\\u9001\\u51FA\"))));\n}","map":{"version":3,"sources":["/Users/evielu/react/react_member_center/pages/signin/index.js"],"names":["React","createRef","useState","styles","TextField","InputBase","IconButton","InputAdornment","Visibility","VisibilityOff","Link","acctValidate","newValue","emailPattern","RegExp","phonePattern","isNaN","Number","test","length","InputField","setAcctErr","setAcct","acct","inputRef","placeholder","type","handle","e","target","value","acctVerify","disableUnderline","signup","values","setAccts","password","showPassword","handleChange","prop","event","handleClickShowPassword","handleMouseDownPassword","preventDefault","acctInput","passwordInput","acctErr","handleSubmit","Account","current","Password","console","log","JSON","stringify","Data","source_id","response","fetch","method","headers","body","then","json","myJson","ReturnCode","ReturnData","AcctID","ReturnMessage","signin","margin","fontSize","fontWeight","linkGroup"],"mappings":"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","sourcesContent":["import React, { createRef, useState } from \"react\";\nimport styles from \"../components/layout.module.css\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport Link from \"next/link\";\n// import { useRouter } from \"next/router\";\n\nfunction acctValidate(newValue) {\n  const emailPattern = new RegExp(\n    /^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i\n  );\n  const phonePattern = new RegExp(/^09\\d{2}-?\\d{3}-?\\d{3}$/);\n  if (newValue) {\n    //acctID\n    if (\n      (!isNaN(Number(newValue)) &&\n        !phonePattern.test(newValue) &&\n        newValue.length > 9) ||\n      (isNaN(Number(newValue)) &&\n        !emailPattern.test(newValue) &&\n        newValue.length > 5)\n    ) {\n      return true;\n    }\n  }\n}\nfunction InputField({\n  setAcctErr,\n  setAcct,\n  acct,\n  inputRef,\n  placeholder,\n  type,\n}) {\n  function handle(e) {\n    const newValue = e.target.value;\n    const acctVerify = acctValidate(newValue);\n    setAcct(newValue);\n    setAcctErr(acctVerify);\n  }\n  return (\n    <TextField\n      fullWidth\n      required\n      placeholder={placeholder}\n      InputProps={{ disableUnderline: true }}\n      value={acct}\n      inputRef={inputRef}\n      onChange={handle}\n    />\n  );\n}\nexport default function signup() {\n  const [values, setAccts] = React.useState({\n    password: \"\",\n    showPassword: false,\n  });\n\n  const handleChange = (prop) => (event) => {\n    setAccts({ ...values, [prop]: event.target.value });\n  };\n\n  const handleClickShowPassword = () => {\n    setAccts({ ...values, showPassword: !values.showPassword });\n  };\n\n  const handleMouseDownPassword = (event) => {\n    event.preventDefault();\n  };\n\n  // const router = useRouter();\n  const acctInput = createRef();\n  const passwordInput = createRef();\n  const [acctErr, setAcctErr] = useState(false);\n  const [acct, setAcct] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const Account = acctInput.current.value;\n    const Password = passwordInput.current.value;\n    if (!acctErr) {\n      console.log(\n        JSON.stringify({ Data: { Account, Password }, source_id: 4 })\n      );\n\n      const response = await fetch(\n        \"https://10.2.108.136:3366/carplus/member/Login\",\n        {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ Data: { Account, Password }, source_id: 4 }),\n        }\n      )\n        .then(function (response) {\n          return response.json();\n        })\n        .then(function (myJson) {\n          if (myJson.ReturnCode == 0) {\n            console.log(\"AcctID: \" + myJson.ReturnData.AcctID);\n          } else {\n            console.log(myJson.ReturnMessage + \"(\" + myJson.ReturnCode + \")\");\n          }\n        });\n    }\n  };\n\n  return (\n    <div className=\"wid100 fx fx_center\">\n      <form className={styles.signin + \" wid50\"} onSubmit={handleSubmit}>\n        <label\n          className=\"wid100 fx fx_center\"\n          style={{ margin: \"20px 0\", fontSize: \"1.3em\", fontWeight: \"bold\" }}\n        >\n          會員登入\n        </label>\n        <div className=\"input_box\">\n          <InputField\n            setAcctErr={setAcctErr}\n            setAcct={setAcct}\n            value={acct}\n            inputRef={acctInput}\n            placeholder=\"請輸入您的Email或手機號碼\"\n            type=\"acct\"\n          />\n        </div>\n\n        {acctErr && (\n          <span className=\"input_err\">Email或手機號碼格式錯誤，請重新輸入</span>\n        )}\n\n        <div className=\"input_box\">\n          <InputBase\n            fullWidth\n            required\n            type={values.showPassword ? \"text\" : \"password\"}\n            value={values.password}\n            onChange={handleChange(\"password\")}\n            inputProps={{ \"aria-label\": \"naked\" }}\n            inputRef={passwordInput}\n            placeholder=\"請輸入密碼\"\n            endAdornment={\n              <InputAdornment position=\"end\">\n                <IconButton\n                  onClick={handleClickShowPassword}\n                  onMouseDown={handleMouseDownPassword}\n                >\n                  {values.showPassword ? <Visibility /> : <VisibilityOff />}\n                </IconButton>\n              </InputAdornment>\n            }\n          />\n        </div>\n\n        <div className={styles.linkGroup + \" fx fx_nowrap fx_between\"}>\n          <Link href=\"/forgetPw\">\n            <a>忘記密碼？</a>\n          </Link>\n          <label>\n            沒有帳號？\n            <Link href=\"/signup\">\n              <a>加入會員</a>\n            </Link>\n          </label>\n        </div>\n\n        <div>\n          <button type=\"submit\" className=\"btn btn100 btn_00\">\n            確認送出\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}